var checkboxHeight="25",radioHeight="25",selectWidth="190";document.write('<style type="text/css">input.styled { display: none; } select.styled { position: relative; width: '+selectWidth+"px; opacity: 0; filter: alpha(opacity=0); z-index: 5; } .disabled { opacity: 0.5; filter: alpha(opacity=50); }</style>");var Custom={init:function(){var e,t,i,s=document.getElementsByTagName("input"),n=[];for(a=0;s.length>a;a++)"checkbox"!=s[a].type&&"radio"!=s[a].type||"styled"!=s[a].className||(n[a]=document.createElement("span"),n[a].className=s[a].type,1==s[a].checked&&("checkbox"==s[a].type?(position="0 -"+2*checkboxHeight+"px",n[a].style.backgroundPosition=position):(position="0 -"+2*radioHeight+"px",n[a].style.backgroundPosition=position)),s[a].parentNode.insertBefore(n[a],s[a]),s[a].onchange=Custom.clear,s[a].getAttribute("disabled")?n[a].className=n[a].className+=" disabled":(n[a].onmousedown=Custom.pushed,n[a].onmouseup=Custom.check));for(s=document.getElementsByTagName("select"),a=0;s.length>a;a++)if("styled"==s[a].className){for(t=s[a].getElementsByTagName("option"),i=t[0].childNodes[0].nodeValue,e=document.createTextNode(i),b=0;t.length>b;b++)1==t[b].selected&&(e=document.createTextNode(t[b].childNodes[0].nodeValue));n[a]=document.createElement("span"),n[a].className="select",n[a].id="select"+s[a].name,n[a].appendChild(e),s[a].parentNode.insertBefore(n[a],s[a]),s[a].getAttribute("disabled")?s[a].previousSibling.className=s[a].previousSibling.className+=" disabled":s[a].onchange=Custom.choose}document.onmouseup=Custom.clear},pushed:function(){element=this.nextSibling,this.style.backgroundPosition=1==element.checked&&"checkbox"==element.type?"0 -"+3*checkboxHeight+"px":1==element.checked&&"radio"==element.type?"0 -"+3*radioHeight+"px":1!=element.checked&&"checkbox"==element.type?"0 -"+checkboxHeight+"px":"0 -"+radioHeight+"px"},check:function(){if(element=this.nextSibling,1==element.checked&&"checkbox"==element.type)this.style.backgroundPosition="0 0",element.checked=!1;else{if("checkbox"==element.type)this.style.backgroundPosition="0 -"+2*checkboxHeight+"px";else for(this.style.backgroundPosition="0 -"+2*radioHeight+"px",group=this.nextSibling.name,inputs=document.getElementsByTagName("input"),a=0;inputs.length>a;a++)inputs[a].name==group&&inputs[a]!=this.nextSibling&&(inputs[a].previousSibling.style.backgroundPosition="0 0");element.checked=!0}},clear:function(){inputs=document.getElementsByTagName("input");for(var e=0;inputs.length>e;e++)"checkbox"==inputs[e].type&&1==inputs[e].checked&&"styled"==inputs[e].className?inputs[e].previousSibling.style.backgroundPosition="0 -"+2*checkboxHeight+"px":"checkbox"==inputs[e].type&&"styled"==inputs[e].className?inputs[e].previousSibling.style.backgroundPosition="0 0":"radio"==inputs[e].type&&1==inputs[e].checked&&"styled"==inputs[e].className?inputs[e].previousSibling.style.backgroundPosition="0 -"+2*radioHeight+"px":"radio"==inputs[e].type&&"styled"==inputs[e].className&&(inputs[e].previousSibling.style.backgroundPosition="0 0")},choose:function(){for(option=this.getElementsByTagName("option"),d=0;option.length>d;d++)1==option[d].selected&&(document.getElementById("select"+this.name).childNodes[0].nodeValue=option[d].childNodes[0].nodeValue)}};window.onload=Custom.init,function(){var e;e=function(){function e(){this.options_index=0,this.parsed=[]}return e.prototype.add_node=function(e){return"OPTGROUP"===e.nodeName.toUpperCase()?this.add_group(e):this.add_option(e)},e.prototype.add_group=function(e){var t,i,s,n,r,o;for(t=this.parsed.length,this.parsed.push({array_index:t,group:!0,label:e.label,children:0,disabled:e.disabled}),r=e.childNodes,o=[],s=0,n=r.length;n>s;s++)i=r[s],o.push(this.add_option(i,t,e.disabled));return o},e.prototype.add_option=function(e,t,i){return"OPTION"===e.nodeName.toUpperCase()?(""!==e.text?(null!=t&&(this.parsed[t].children+=1),this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,value:e.value,text:e.text,html:e.innerHTML,selected:e.selected,disabled:i===!0?i:e.disabled,group_array_index:t,classes:e.className,style:e.style.cssText})):this.parsed.push({array_index:this.parsed.length,options_index:this.options_index,empty:!0}),this.options_index+=1):void 0},e}(),e.select_to_array=function(t){var i,s,n,r,o;for(s=new e,o=t.childNodes,n=0,r=o.length;r>n;n++)i=o[n],s.add_node(i);return s.parsed},this.SelectParser=e}.call(this),function(){var e,t;t=this,e=function(){function e(e,t){this.form_field=e,this.options=null!=t?t:{},this.is_multiple=this.form_field.multiple,this.set_default_text(),this.set_default_values(),this.setup(),this.set_up_html(),this.register_observers(),this.finish_setup()}return e.prototype.set_default_values=function(){var e=this;return this.click_test_action=function(t){return e.test_active_click(t)},this.activate_action=function(t){return e.activate_field(t)},this.active_field=!1,this.mouse_on_container=!1,this.results_showing=!1,this.result_highlighted=null,this.result_single_selected=null,this.allow_single_deselect=null!=this.options.allow_single_deselect&&null!=this.form_field.options[0]&&""===this.form_field.options[0].text?this.options.allow_single_deselect:!1,this.disable_search_threshold=this.options.disable_search_threshold||0,this.disable_search=this.options.disable_search||!1,this.enable_split_word_search=null!=this.options.enable_split_word_search?this.options.enable_split_word_search:!0,this.search_contains=this.options.search_contains||!1,this.choices=0,this.single_backstroke_delete=this.options.single_backstroke_delete||!1,this.max_selected_options=this.options.max_selected_options||1/0,this.inherit_select_classes=this.options.inherit_select_classes||!1},e.prototype.set_default_text=function(){return this.default_text=this.form_field.getAttribute("data-placeholder")?this.form_field.getAttribute("data-placeholder"):this.is_multiple?this.options.placeholder_text_multiple||this.options.placeholder_text||"Select Some Options":this.options.placeholder_text_single||this.options.placeholder_text||"Select an Option",this.results_none_found=this.form_field.getAttribute("data-no_results_text")||this.options.no_results_text||"No results match"},e.prototype.mouse_enter=function(){return this.mouse_on_container=!0},e.prototype.mouse_leave=function(){return this.mouse_on_container=!1},e.prototype.input_focus=function(){var e=this;if(this.is_multiple){if(!this.active_field)return setTimeout(function(){return e.container_mousedown()},50)}else if(!this.active_field)return this.activate_field()},e.prototype.input_blur=function(){var e=this;return this.mouse_on_container?void 0:(this.active_field=!1,setTimeout(function(){return e.blur_test()},100))},e.prototype.result_add_option=function(e){var t,i;return e.disabled?"":(e.dom_id=this.container_id+"_o_"+e.array_index,t=e.selected&&this.is_multiple?[]:["active-result"],e.selected&&t.push("result-selected"),null!=e.group_array_index&&t.push("group-option"),""!==e.classes&&t.push(e.classes),i=""!==e.style.cssText?' style="'+e.style+'"':"",'<li id="'+e.dom_id+'" class="'+t.join(" ")+'"'+i+">"+e.html+"</li>")},e.prototype.results_update_field=function(){return this.is_multiple||this.results_reset_cleanup(),this.result_clear_highlight(),this.result_single_selected=null,this.results_build()},e.prototype.results_toggle=function(){return this.results_showing?this.results_hide():this.results_show()},e.prototype.results_search=function(){return this.results_showing?this.winnow_results():this.results_show()},e.prototype.keyup_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),t){case 8:if(this.is_multiple&&1>this.backstroke_length&&this.choices>0)return this.keydown_backstroke();if(!this.pending_backstroke)return this.result_clear_highlight(),this.results_search();break;case 13:if(e.preventDefault(),this.results_showing)return this.result_select(e);break;case 27:return this.results_showing&&this.results_hide(),!0;case 9:case 38:case 40:case 16:case 91:case 17:break;default:return this.results_search()}},e.prototype.generate_field_id=function(){var e;return e=this.generate_random_id(),this.form_field.id=e,e},e.prototype.generate_random_char=function(){var e,t,i;return e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ",i=Math.floor(Math.random()*e.length),t=e.substring(i,i+1)},e}(),t.AbstractChosen=e}.call(this),function(){var e,t,i,s,n={}.hasOwnProperty,r=function(e,t){function i(){this.constructor=e}for(var s in t)n.call(t,s)&&(e[s]=t[s]);return i.prototype=t.prototype,e.prototype=new i,e.__super__=t.prototype,e};s=this,e=jQuery,e.fn.extend({chosen:function(i){var s,n,r;return r=navigator.userAgent.toLowerCase(),n=/(msie) ([\w.]+)/.exec(r)||[],s={name:n[1]||"",version:n[2]||"0"},"msie"===s.name&&("6.0"===s.version||"7.0"===s.version&&7===document.documentMode)?this:this.each(function(){var s;return s=e(this),s.hasClass("chzn-done")?void 0:s.data("chosen",new t(this,i))})}}),t=function(t){function n(){return n.__super__.constructor.apply(this,arguments)}return r(n,t),n.prototype.setup=function(){return this.form_field_jq=e(this.form_field),this.current_value=this.form_field_jq.val(),this.is_rtl=this.form_field_jq.hasClass("chzn-rtl")},n.prototype.finish_setup=function(){return this.form_field_jq.addClass("chzn-done")},n.prototype.set_up_html=function(){var t,s,n,r,o,a;return this.container_id=this.form_field.id.length?this.form_field.id.replace(/[^\w]/g,"_"):this.generate_field_id(),this.container_id+="_chzn",t=["chzn-container"],t.push("chzn-container-"+(this.is_multiple?"multi":"single")),this.inherit_select_classes&&this.form_field.className&&t.push(this.form_field.className),this.is_rtl&&t.push("chzn-rtl"),this.f_width=this.form_field_jq.outerWidth(),n={id:this.container_id,"class":t.join(" "),style:"width: "+this.f_width+"px;",title:this.form_field.title},s=e("<div />",n),this.is_multiple?s.html('<ul class="chzn-choices"><li class="search-field"><input type="text" value="'+this.default_text+'" class="default" autocomplete="off" style="width:25px;" /></li></ul><div class="chzn-drop" style="left:-9000px;"><ul class="chzn-results"></ul></div>'):s.html('<a href="javascript:void(0)" class="chzn-single chzn-default" tabindex="-1"><span>'+this.default_text+'</span><div><b></b></div></a><div class="chzn-drop" style="left:-9000px;"><div class="chzn-search"><input type="text" autocomplete="off" /></div><ul class="chzn-results"></ul></div>'),this.form_field_jq.hide().after(s),this.container=e("#"+this.container_id),this.dropdown=this.container.find("div.chzn-drop").first(),r=this.container.height(),o=this.f_width-i(this.dropdown),this.dropdown.css({width:o+"px",top:r+"px"}),this.search_field=this.container.find("input").first(),this.search_results=this.container.find("ul.chzn-results").first(),this.search_field_scale(),this.search_no_results=this.container.find("li.no-results").first(),this.is_multiple?(this.search_choices=this.container.find("ul.chzn-choices").first(),this.search_container=this.container.find("li.search-field").first()):(this.search_container=this.container.find("div.chzn-search").first(),this.selected_item=this.container.find(".chzn-single").first(),a=o-i(this.search_container)-i(this.search_field),this.search_field.css({width:a+"px"})),this.results_build(),this.set_tab_index(),this.form_field_jq.trigger("liszt:ready",{chosen:this})},n.prototype.register_observers=function(){var e=this;return this.container.mousedown(function(t){return e.container_mousedown(t)}),this.container.mouseup(function(t){return e.container_mouseup(t)}),this.container.mouseenter(function(t){return e.mouse_enter(t)}),this.container.mouseleave(function(t){return e.mouse_leave(t)}),this.search_results.mouseup(function(t){return e.search_results_mouseup(t)}),this.search_results.mouseover(function(t){return e.search_results_mouseover(t)}),this.search_results.mouseout(function(t){return e.search_results_mouseout(t)}),this.form_field_jq.bind("liszt:updated",function(t){return e.results_update_field(t)}),this.form_field_jq.bind("liszt:activate",function(t){return e.activate_field(t)}),this.form_field_jq.bind("liszt:open",function(t){return e.container_mousedown(t)}),this.search_field.blur(function(t){return e.input_blur(t)}),this.search_field.keyup(function(t){return e.keyup_checker(t)}),this.search_field.keydown(function(t){return e.keydown_checker(t)}),this.search_field.focus(function(t){return e.input_focus(t)}),this.is_multiple?this.search_choices.click(function(t){return e.choices_click(t)}):this.container.click(function(e){return e.preventDefault()})},n.prototype.search_field_disabled=function(){return this.is_disabled=this.form_field_jq[0].disabled,this.is_disabled?(this.container.addClass("chzn-disabled"),this.search_field[0].disabled=!0,this.is_multiple||this.selected_item.unbind("focus",this.activate_action),this.close_field()):(this.container.removeClass("chzn-disabled"),this.search_field[0].disabled=!1,this.is_multiple?void 0:this.selected_item.bind("focus",this.activate_action))},n.prototype.container_mousedown=function(t){var i;return this.is_disabled?void 0:(i=null!=t?e(t.target).hasClass("search-choice-close"):!1,t&&"mousedown"===t.type&&!this.results_showing&&t.preventDefault(),this.pending_destroy_click||i?this.pending_destroy_click=!1:(this.active_field?!this.is_multiple&&t&&(e(t.target)[0]===this.selected_item[0]||e(t.target).parents("a.chzn-single").length)&&(t.preventDefault(),this.results_toggle()):(this.is_multiple&&this.search_field.val(""),e(document).click(this.click_test_action),this.results_show()),this.activate_field()))},n.prototype.container_mouseup=function(e){return"ABBR"!==e.target.nodeName||this.is_disabled?void 0:this.results_reset(e)},n.prototype.blur_test=function(){return!this.active_field&&this.container.hasClass("chzn-container-active")?this.close_field():void 0},n.prototype.close_field=function(){return e(document).unbind("click",this.click_test_action),this.active_field=!1,this.results_hide(),this.container.removeClass("chzn-container-active"),this.winnow_results_clear(),this.clear_backstroke(),this.show_search_field_default(),this.search_field_scale()},n.prototype.activate_field=function(){return this.container.addClass("chzn-container-active"),this.active_field=!0,this.search_field.val(this.search_field.val()),this.search_field.focus()},n.prototype.test_active_click=function(t){return e(t.target).parents("#"+this.container_id).length?this.active_field=!0:this.close_field()},n.prototype.results_build=function(){var e,t,i,n,r;for(this.parsing=!0,this.results_data=s.SelectParser.select_to_array(this.form_field),this.is_multiple&&this.choices>0?(this.search_choices.find("li.search-choice").remove(),this.choices=0):this.is_multiple||(this.selected_item.addClass("chzn-default").find("span").text(this.default_text),this.disable_search||this.form_field.options.length<=this.disable_search_threshold?this.container.addClass("chzn-container-single-nosearch"):this.container.removeClass("chzn-container-single-nosearch")),e="",r=this.results_data,i=0,n=r.length;n>i;i++)t=r[i],t.group?e+=this.result_add_group(t):t.empty||(e+=this.result_add_option(t),t.selected&&this.is_multiple?this.choice_build(t):t.selected&&!this.is_multiple&&(this.selected_item.removeClass("chzn-default").find("span").text(t.text),this.allow_single_deselect&&this.single_deselect_control_build()));return this.search_field_disabled(),this.show_search_field_default(),this.search_field_scale(),this.search_results.html(e),this.parsing=!1},n.prototype.result_add_group=function(t){return t.disabled?"":(t.dom_id=this.container_id+"_g_"+t.array_index,'<li id="'+t.dom_id+'" class="group-result">'+e("<div />").text(t.label).html()+"</li>")},n.prototype.result_do_highlight=function(e){var t,i,s,n,r;if(e.length){if(this.result_clear_highlight(),this.result_highlight=e,this.result_highlight.addClass("highlighted"),s=parseInt(this.search_results.css("maxHeight"),10),r=this.search_results.scrollTop(),n=s+r,i=this.result_highlight.position().top+this.search_results.scrollTop(),t=i+this.result_highlight.outerHeight(),t>=n)return this.search_results.scrollTop(t-s>0?t-s:0);if(r>i)return this.search_results.scrollTop(i)}},n.prototype.result_clear_highlight=function(){return this.result_highlight&&this.result_highlight.removeClass("highlighted"),this.result_highlight=null},n.prototype.results_show=function(){var e;if(this.is_multiple){if(this.max_selected_options<=this.choices)return this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1}else this.selected_item.addClass("chzn-single-with-drop"),this.result_single_selected&&this.result_do_highlight(this.result_single_selected);return e=this.is_multiple?this.container.height():this.container.height()-1,this.form_field_jq.trigger("liszt:showing_dropdown",{chosen:this}),this.dropdown.css({top:e+"px",left:0}),this.results_showing=!0,this.search_field.focus(),this.search_field.val(this.search_field.val()),this.winnow_results()},n.prototype.results_hide=function(){return this.is_multiple||this.selected_item.removeClass("chzn-single-with-drop"),this.result_clear_highlight(),this.form_field_jq.trigger("liszt:hiding_dropdown",{chosen:this}),this.dropdown.css({left:"-9000px"}),this.results_showing=!1},n.prototype.set_tab_index=function(){var e;return this.form_field_jq.attr("tabindex")?(e=this.form_field_jq.attr("tabindex"),this.form_field_jq.attr("tabindex",-1),this.search_field.attr("tabindex",e)):void 0},n.prototype.show_search_field_default=function(){return this.is_multiple&&1>this.choices&&!this.active_field?(this.search_field.val(this.default_text),this.search_field.addClass("default")):(this.search_field.val(""),this.search_field.removeClass("default"))},n.prototype.search_results_mouseup=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i.length?(this.result_highlight=i,this.result_select(t),this.search_field.focus()):void 0},n.prototype.search_results_mouseover=function(t){var i;return i=e(t.target).hasClass("active-result")?e(t.target):e(t.target).parents(".active-result").first(),i?this.result_do_highlight(i):void 0},n.prototype.search_results_mouseout=function(t){return e(t.target).hasClass("active-result")?this.result_clear_highlight():void 0},n.prototype.choices_click=function(t){return t.preventDefault(),!this.active_field||e(t.target).hasClass("search-choice")||this.results_showing?void 0:this.results_show()},n.prototype.choice_build=function(t){var i,s,n,r=this;return this.is_multiple&&this.max_selected_options<=this.choices?(this.form_field_jq.trigger("liszt:maxselected",{chosen:this}),!1):(i=this.container_id+"_c_"+t.array_index,this.choices+=1,s=t.disabled?'<li class="search-choice search-choice-disabled" id="'+i+'"><span>'+t.html+"</span></li>":'<li class="search-choice" id="'+i+'"><span>'+t.html+'</span><a href="javascript:void(0)" class="search-choice-close" rel="'+t.array_index+'"></a></li>',this.search_container.before(s),n=e("#"+i).find("a").first(),n.click(function(e){return r.choice_destroy_link_click(e)}))},n.prototype.choice_destroy_link_click=function(t){return t.preventDefault(),this.is_disabled?t.stopPropagation:(this.pending_destroy_click=!0,this.choice_destroy(e(t.target)))},n.prototype.choice_destroy=function(e){return this.result_deselect(e.attr("rel"))?(this.choices-=1,this.show_search_field_default(),this.is_multiple&&this.choices>0&&1>this.search_field.val().length&&this.results_hide(),e.parents("li").first().remove(),this.search_field_scale()):void 0},n.prototype.results_reset=function(){return this.form_field.options[0].selected=!0,this.selected_item.find("span").text(this.default_text),this.is_multiple||this.selected_item.addClass("chzn-default"),this.show_search_field_default(),this.results_reset_cleanup(),this.form_field_jq.trigger("change"),this.active_field?this.results_hide():void 0},n.prototype.results_reset_cleanup=function(){return this.current_value=this.form_field_jq.val(),this.selected_item.find("abbr").remove()},n.prototype.result_select=function(e){var t,i,s,n;return this.result_highlight?(t=this.result_highlight,i=t.attr("id"),this.result_clear_highlight(),this.is_multiple?this.result_deactivate(t):(this.search_results.find(".result-selected").removeClass("result-selected"),this.result_single_selected=t,this.selected_item.removeClass("chzn-default")),t.addClass("result-selected"),n=i.substr(i.lastIndexOf("_")+1),s=this.results_data[n],s.selected=!0,this.form_field.options[s.options_index].selected=!0,this.is_multiple?this.choice_build(s):(this.selected_item.find("span").first().text(s.text),this.allow_single_deselect&&this.single_deselect_control_build()),(!e.metaKey&&!e.ctrlKey||!this.is_multiple)&&this.results_hide(),this.search_field.val(""),(this.is_multiple||this.form_field_jq.val()!==this.current_value)&&this.form_field_jq.trigger("change",{selected:this.form_field.options[s.options_index].value}),this.current_value=this.form_field_jq.val(),this.search_field_scale()):void 0},n.prototype.result_activate=function(e){return e.addClass("active-result")},n.prototype.result_deactivate=function(e){return e.removeClass("active-result")},n.prototype.result_deselect=function(t){var i,s;return s=this.results_data[t],this.form_field.options[s.options_index].disabled?!1:(s.selected=!1,this.form_field.options[s.options_index].selected=!1,i=e("#"+this.container_id+"_o_"+t),i.removeClass("result-selected").addClass("active-result").show(),this.result_clear_highlight(),this.winnow_results(),this.form_field_jq.trigger("change",{deselected:this.form_field.options[s.options_index].value}),this.search_field_scale(),!0)},n.prototype.single_deselect_control_build=function(){return this.allow_single_deselect&&1>this.selected_item.find("abbr").length?this.selected_item.find("span").first().after('<abbr class="search-choice-close"></abbr>'):void 0},n.prototype.winnow_results=function(){var t,i,s,n,r,o,a,l,h,c,d,u,p,f,_,g,m,y;for(this.no_results_clear(),h=0,c=this.search_field.val()===this.default_text?"":e("<div/>").text(e.trim(this.search_field.val())).html(),o=this.search_contains?"":"^",r=RegExp(o+c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),p=RegExp(c.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&"),"i"),y=this.results_data,f=0,g=y.length;g>f;f++)if(i=y[f],!i.disabled&&!i.empty)if(i.group)e("#"+i.dom_id).css("display","none");else if(!this.is_multiple||!i.selected){if(t=!1,l=i.dom_id,a=e("#"+l),r.test(i.html))t=!0,h+=1;else if(this.enable_split_word_search&&(i.html.indexOf(" ")>=0||0===i.html.indexOf("["))&&(n=i.html.replace(/\[|\]/g,"").split(" "),n.length))for(_=0,m=n.length;m>_;_++)s=n[_],r.test(s)&&(t=!0,h+=1);t?(c.length?(d=i.html.search(p),u=i.html.substr(0,d+c.length)+"</em>"+i.html.substr(d+c.length),u=u.substr(0,d)+"<em>"+u.substr(d)):u=i.html,a.html(u),this.result_activate(a),null!=i.group_array_index&&e("#"+this.results_data[i.group_array_index].dom_id).css("display","list-item")):(this.result_highlight&&l===this.result_highlight.attr("id")&&this.result_clear_highlight(),this.result_deactivate(a))}return 1>h&&c.length?this.no_results(c):this.winnow_results_set_highlight()},n.prototype.winnow_results_clear=function(){var t,i,s,n,r;for(this.search_field.val(""),i=this.search_results.find("li"),r=[],s=0,n=i.length;n>s;s++)t=i[s],t=e(t),t.hasClass("group-result")?r.push(t.css("display","auto")):this.is_multiple&&t.hasClass("result-selected")?r.push(void 0):r.push(this.result_activate(t));return r},n.prototype.winnow_results_set_highlight=function(){var e,t;return this.result_highlight||(t=this.is_multiple?[]:this.search_results.find(".result-selected.active-result"),e=t.length?t.first():this.search_results.find(".active-result").first(),null==e)?void 0:this.result_do_highlight(e)},n.prototype.no_results=function(t){var i;return i=e('<li class="no-results">'+this.results_none_found+' "<span></span>"</li>'),i.find("span").first().html(t),this.search_results.append(i)},n.prototype.no_results_clear=function(){return this.search_results.find(".no-results").remove()},n.prototype.keydown_arrow=function(){var t,i;return this.result_highlight?this.results_showing&&(i=this.result_highlight.nextAll("li.active-result").first(),i&&this.result_do_highlight(i)):(t=this.search_results.find("li.active-result").first(),t&&this.result_do_highlight(e(t))),this.results_showing?void 0:this.results_show()},n.prototype.keyup_arrow=function(){var e;return this.results_showing||this.is_multiple?this.result_highlight?(e=this.result_highlight.prevAll("li.active-result"),e.length?this.result_do_highlight(e.first()):(this.choices>0&&this.results_hide(),this.result_clear_highlight())):void 0:this.results_show()},n.prototype.keydown_backstroke=function(){var e;return this.pending_backstroke?(this.choice_destroy(this.pending_backstroke.find("a").first()),this.clear_backstroke()):(e=this.search_container.siblings("li.search-choice").last(),e.length&&!e.hasClass("search-choice-disabled")?(this.pending_backstroke=e,this.single_backstroke_delete?this.keydown_backstroke():this.pending_backstroke.addClass("search-choice-focus")):void 0)},n.prototype.clear_backstroke=function(){return this.pending_backstroke&&this.pending_backstroke.removeClass("search-choice-focus"),this.pending_backstroke=null},n.prototype.keydown_checker=function(e){var t,i;switch(t=null!=(i=e.which)?i:e.keyCode,this.search_field_scale(),8!==t&&this.pending_backstroke&&this.clear_backstroke(),t){case 8:this.backstroke_length=this.search_field.val().length;break;case 9:this.results_showing&&!this.is_multiple&&this.result_select(e),this.mouse_on_container=!1;break;case 13:e.preventDefault();break;case 38:e.preventDefault(),this.keyup_arrow();break;case 40:this.keydown_arrow()}},n.prototype.search_field_scale=function(){var t,i,s,n,r,o,a,l,h;if(this.is_multiple){for(s=0,a=0,r="position:absolute; left: -1000px; top: -1000px; display:none;",o=["font-size","font-style","font-weight","font-family","line-height","text-transform","letter-spacing"],l=0,h=o.length;h>l;l++)n=o[l],r+=n+":"+this.search_field.css(n)+";";return i=e("<div />",{style:r}),i.text(this.search_field.val()),e("body").append(i),a=i.width()+25,i.remove(),a>this.f_width-10&&(a=this.f_width-10),this.search_field.css({width:a+"px"}),t=this.container.height(),this.dropdown.css({top:t+"px"})}},n.prototype.generate_random_id=function(){var t;for(t="sel"+this.generate_random_char()+this.generate_random_char()+this.generate_random_char();e("#"+t).length>0;)t+=this.generate_random_char();return t},n}(AbstractChosen),s.Chosen=t,i=function(e){var t;return t=e.outerWidth()-e.width()},s.get_side_border_padding=i}.call(this),function(e){e.placeHeld=function(t,i){var s=this;s.$el=e(t),s.el=t,s.$el.data("placeHeld",s),s.placeholderText=s.$el.attr("placeholder"),s.init=function(){s.options=e.extend({},e.placeHeld.defaultOptions,i),s.$el.bind("blur",s.holdPlace).bind("focus",s.releasePlace).trigger("blur"),s.$el.parents("form").bind("submit",s.clearPlace)},s.holdPlace=function(){var e=s.$el.val();e||s.$el.val(s.placeholderText).addClass(s.options.className)},s.releasePlace=function(){var e=s.$el.val();e==s.placeholderText&&s.$el.val("").removeClass(s.options.className)},s.clearPlace=function(){var e=s.$el.val();e==s.placeholderText&&s.$el.hasClass(s.options.className)&&s.$el.val("")},s.init()},e.placeHeld.defaultOptions={className:"placeheld"},e.fn.placeHeld=function(t){return"placeholder"in e("<input>")[0]?void 0:this.each(function(){new e.placeHeld(this,t)})}}(jQuery),function(e,t,i,s){var n=i(e),r=i(t),o=i.fancybox=function(){o.open.apply(this,arguments)},a=navigator.userAgent.match(/msie/),l=null,h=t.createTouch!==s,c=function(e){return e&&e.hasOwnProperty&&e instanceof i},d=function(e){return e&&"string"===i.type(e)},u=function(e){return d(e)&&e.indexOf("%")>0},p=function(e,t){var i=parseInt(e,10)||0;return t&&u(e)&&(i*=o.getViewport()[t]/100),Math.ceil(i)},f=function(e,t){return p(e,t)+"px"};i.extend(o,{version:"2.1.4",defaults:{padding:15,margin:20,width:800,height:600,minWidth:100,minHeight:100,maxWidth:9999,maxHeight:9999,autoSize:!0,autoHeight:!1,autoWidth:!1,autoResize:!0,autoCenter:!h,fitToView:!0,aspectRatio:!1,topRatio:.5,leftRatio:.5,scrolling:"auto",wrapCSS:"",arrows:!0,closeBtn:!0,closeClick:!1,nextClick:!1,mouseWheel:!0,autoPlay:!1,playSpeed:3e3,preload:3,modal:!1,loop:!0,ajax:{dataType:"html",headers:{"X-fancyBox":!0}},iframe:{scrolling:"auto",preload:!0},swf:{wmode:"transparent",allowfullscreen:"true",allowscriptaccess:"always"},keys:{next:{13:"left",34:"up",39:"left",40:"up"},prev:{8:"right",33:"down",37:"right",38:"down"},close:[27],play:[32],toggle:[70]},direction:{next:"left",prev:"right"},scrollOutside:!0,index:0,type:null,href:null,content:null,title:null,tpl:{wrap:'<div class="fancybox-wrap" tabIndex="-1"><div class="fancybox-skin"><div class="fancybox-outer"><div class="fancybox-inner"></div></div></div></div>',image:'<img class="fancybox-image" src="{href}" alt="" />',iframe:'<iframe id="fancybox-frame{rnd}" name="fancybox-frame{rnd}" class="fancybox-iframe" frameborder="0" vspace="0" hspace="0" webkitAllowFullScreen mozallowfullscreen allowFullScreen'+(a?' allowtransparency="true"':"")+"></iframe>",error:'<p class="fancybox-error">The requested content cannot be loaded.<br/>Please try again later.</p>',closeBtn:'<a title="Close" class="fancybox-item fancybox-close" href="javascript:;"></a>',next:'<a title="Next" class="fancybox-nav fancybox-next" href="javascript:;"><span></span></a>',prev:'<a title="Previous" class="fancybox-nav fancybox-prev" href="javascript:;"><span></span></a>'},openEffect:"fade",openSpeed:250,openEasing:"swing",openOpacity:!0,openMethod:"zoomIn",closeEffect:"fade",closeSpeed:250,closeEasing:"swing",closeOpacity:!0,closeMethod:"zoomOut",nextEffect:"elastic",nextSpeed:250,nextEasing:"swing",nextMethod:"changeIn",prevEffect:"elastic",prevSpeed:250,prevEasing:"swing",prevMethod:"changeOut",helpers:{overlay:!0,title:!0},onCancel:i.noop,beforeLoad:i.noop,afterLoad:i.noop,beforeShow:i.noop,afterShow:i.noop,beforeChange:i.noop,beforeClose:i.noop,afterClose:i.noop},group:{},opts:{},previous:null,coming:null,current:null,isActive:!1,isOpen:!1,isOpened:!1,wrap:null,skin:null,outer:null,inner:null,player:{timer:null,isActive:!1},ajaxLoad:null,imgPreload:null,transitions:{},helpers:{},open:function(e,t){return e&&(i.isPlainObject(t)||(t={}),!1!==o.close(!0))?(i.isArray(e)||(e=c(e)?i(e).get():[e]),i.each(e,function(n,r){var a,l,h,u,p,f={};"object"===i.type(r)&&(r.nodeType&&(r=i(r)),c(r)?(f={href:r.data("fancybox-href")||r.attr("href"),title:r.data("fancybox-title")||r.attr("title"),isDom:!0,element:r},i.metadata&&i.extend(!0,f,r.metadata())):f=r),a=t.href||f.href||(d(r)?r:null),l=t.title!==s?t.title:f.title||"",u=(h=t.content||f.content)?"html":t.type||f.type,!u&&f.isDom&&(u=r.data("fancybox-type"),u||(u=(u=r.prop("class").match(/fancybox\.(\w+)/))?u[1]:null)),d(a)&&(u||(o.isImage(a)?u="image":o.isSWF(a)?u="swf":"#"===a.charAt(0)?u="inline":d(r)&&(u="html",h=r)),"ajax"===u&&(p=a.split(/\s+/,2),a=p.shift(),p=p.shift())),h||("inline"===u?a?h=i(d(a)?a.replace(/.*(?=#[^\s]+$)/,""):a):f.isDom&&(h=r):"html"===u?h=a:!u&&!a&&f.isDom&&(u="inline",h=r)),i.extend(f,{href:a,type:u,content:h,title:l,selector:p}),e[n]=f}),o.opts=i.extend(!0,{},o.defaults,t),t.keys!==s&&(o.opts.keys=t.keys?i.extend({},o.defaults.keys,t.keys):!1),o.group=e,o._start(o.opts.index)):void 0},cancel:function(){var e=o.coming;e&&!1!==o.trigger("onCancel")&&(o.hideLoading(),o.ajaxLoad&&o.ajaxLoad.abort(),o.ajaxLoad=null,o.imgPreload&&(o.imgPreload.onload=o.imgPreload.onerror=null),e.wrap&&e.wrap.stop(!0,!0).trigger("onReset").remove(),o.coming=null,o.current||o._afterZoomOut(e))},close:function(e){o.cancel(),!1!==o.trigger("beforeClose")&&(o.unbindEvents(),o.isActive&&(o.isOpen&&!0!==e?(o.isOpen=o.isOpened=!1,o.isClosing=!0,i(".fancybox-item, .fancybox-nav").remove(),o.wrap.stop(!0,!0).removeClass("fancybox-opened"),o.transitions[o.current.closeMethod]()):(i(".fancybox-wrap").stop(!0).trigger("onReset").remove(),o._afterZoomOut())))
},play:function(e){var t=function(){clearTimeout(o.player.timer)},s=function(){t(),o.current&&o.player.isActive&&(o.player.timer=setTimeout(o.next,o.current.playSpeed))},n=function(){t(),i("body").unbind(".player"),o.player.isActive=!1,o.trigger("onPlayEnd")};!0===e||!o.player.isActive&&!1!==e?o.current&&(o.current.loop||o.current.index<o.group.length-1)&&(o.player.isActive=!0,i("body").bind({"afterShow.player onUpdate.player":s,"onCancel.player beforeClose.player":n,"beforeLoad.player":t}),s(),o.trigger("onPlayStart")):n()},next:function(e){var t=o.current;t&&(d(e)||(e=t.direction.next),o.jumpto(t.index+1,e,"next"))},prev:function(e){var t=o.current;t&&(d(e)||(e=t.direction.prev),o.jumpto(t.index-1,e,"prev"))},jumpto:function(e,t,i){var n=o.current;n&&(e=p(e),o.direction=t||n.direction[e>=n.index?"next":"prev"],o.router=i||"jumpto",n.loop&&(0>e&&(e=n.group.length+e%n.group.length),e%=n.group.length),n.group[e]!==s&&(o.cancel(),o._start(e)))},reposition:function(e,t){var s,n=o.current,r=n?n.wrap:null;r&&(s=o._getPosition(t),e&&"scroll"===e.type?(delete s.position,r.stop(!0,!0).animate(s,200)):(r.css(s),n.pos=i.extend({},n.dim,s)))},update:function(e){var t=e&&e.type,i=!t||"orientationchange"===t;i&&(clearTimeout(l),l=null),o.isOpen&&!l&&(l=setTimeout(function(){var s=o.current;s&&!o.isClosing&&(o.wrap.removeClass("fancybox-tmp"),(i||"load"===t||"resize"===t&&s.autoResize)&&o._setDimension(),"scroll"===t&&s.canShrink||o.reposition(e),o.trigger("onUpdate"),l=null)},i&&!h?0:300))},toggle:function(e){o.isOpen&&(o.current.fitToView="boolean"===i.type(e)?e:!o.current.fitToView,h&&(o.wrap.removeAttr("style").addClass("fancybox-tmp"),o.trigger("onUpdate")),o.update())},hideLoading:function(){r.unbind(".loading"),i("#fancybox-loading").remove()},showLoading:function(){var e,t;o.hideLoading(),e=i('<div id="fancybox-loading"><div></div></div>').click(o.cancel).appendTo("body"),r.bind("keydown.loading",function(e){27===(e.which||e.keyCode)&&(e.preventDefault(),o.cancel())}),o.defaults.fixed||(t=o.getViewport(),e.css({position:"absolute",top:.5*t.h+t.y,left:.5*t.w+t.x}))},getViewport:function(){var t=o.current&&o.current.locked||!1,i={x:n.scrollLeft(),y:n.scrollTop()};return t?(i.w=t[0].clientWidth,i.h=t[0].clientHeight):(i.w=h&&e.innerWidth?e.innerWidth:n.width(),i.h=h&&e.innerHeight?e.innerHeight:n.height()),i},unbindEvents:function(){o.wrap&&c(o.wrap)&&o.wrap.unbind(".fb"),r.unbind(".fb"),n.unbind(".fb")},bindEvents:function(){var e,t=o.current;t&&(n.bind("orientationchange.fb"+(h?"":" resize.fb")+(t.autoCenter&&!t.locked?" scroll.fb":""),o.update),(e=t.keys)&&r.bind("keydown.fb",function(n){var r=n.which||n.keyCode,a=n.target||n.srcElement;return 27===r&&o.coming?!1:(!(n.ctrlKey||n.altKey||n.shiftKey||n.metaKey||a&&(a.type||i(a).is("[contenteditable]"))||!i.each(e,function(e,a){return t.group.length>1&&a[r]!==s?(o[e](a[r]),n.preventDefault(),!1):i.inArray(r,a)>-1?(o[e](),n.preventDefault(),!1):void 0})),void 0)}),i.fn.mousewheel&&t.mouseWheel&&o.wrap.bind("mousewheel.fb",function(e,s,n,r){for(var a=i(e.target||null),l=!1;a.length&&!l&&!a.is(".fancybox-skin")&&!a.is(".fancybox-wrap");)l=a[0]&&!(a[0].style.overflow&&"hidden"===a[0].style.overflow)&&(a[0].clientWidth&&a[0].scrollWidth>a[0].clientWidth||a[0].clientHeight&&a[0].scrollHeight>a[0].clientHeight),a=i(a).parent();0!==s&&!l&&o.group.length>1&&!t.canShrink&&(r>0||n>0?o.prev(r>0?"down":"left"):(0>r||0>n)&&o.next(0>r?"up":"right"),e.preventDefault())}))},trigger:function(e,t){var s,n=t||o.coming||o.current;if(n){if(i.isFunction(n[e])&&(s=n[e].apply(n,Array.prototype.slice.call(arguments,1))),!1===s)return!1;n.helpers&&i.each(n.helpers,function(t,s){s&&o.helpers[t]&&i.isFunction(o.helpers[t][e])&&(s=i.extend(!0,{},o.helpers[t].defaults,s),o.helpers[t][e](s,n))}),i.event.trigger(e+".fb")}},isImage:function(e){return d(e)&&e.match(/(^data:image\/.*,)|(\.(jp(e|g|eg)|gif|png|bmp|webp)((\?|#).*)?$)/i)},isSWF:function(e){return d(e)&&e.match(/\.(swf)((\?|#).*)?$/i)},_start:function(e){var t,s,n={};if(e=p(e),t=o.group[e]||null,!t)return!1;if(n=i.extend(!0,{},o.opts,t),t=n.margin,s=n.padding,"number"===i.type(t)&&(n.margin=[t,t,t,t]),"number"===i.type(s)&&(n.padding=[s,s,s,s]),n.modal&&i.extend(!0,n,{closeBtn:!1,closeClick:!1,nextClick:!1,arrows:!1,mouseWheel:!1,keys:null,helpers:{overlay:{closeClick:!1}}}),n.autoSize&&(n.autoWidth=n.autoHeight=!0),"auto"===n.width&&(n.autoWidth=!0),"auto"===n.height&&(n.autoHeight=!0),n.group=o.group,n.index=e,o.coming=n,!1===o.trigger("beforeLoad"))o.coming=null;else{if(s=n.type,t=n.href,!s)return o.coming=null,o.current&&o.router&&"jumpto"!==o.router?(o.current.index=e,o[o.router](o.direction)):!1;if(o.isActive=!0,("image"===s||"swf"===s)&&(n.autoHeight=n.autoWidth=!1,n.scrolling="visible"),"image"===s&&(n.aspectRatio=!0),"iframe"===s&&h&&(n.scrolling="scroll"),n.wrap=i(n.tpl.wrap).addClass("fancybox-"+(h?"mobile":"desktop")+" fancybox-type-"+s+" fancybox-tmp "+n.wrapCSS).appendTo(n.parent||"body"),i.extend(n,{skin:i(".fancybox-skin",n.wrap),outer:i(".fancybox-outer",n.wrap),inner:i(".fancybox-inner",n.wrap)}),i.each(["Top","Right","Bottom","Left"],function(e,t){n.skin.css("padding"+t,f(n.padding[e]))}),o.trigger("onReady"),"inline"===s||"html"===s){if(!n.content||!n.content.length)return o._error("content")}else if(!t)return o._error("href");"image"===s?o._loadImage():"ajax"===s?o._loadAjax():"iframe"===s?o._loadIframe():o._afterLoad()}},_error:function(e){i.extend(o.coming,{type:"html",autoWidth:!0,autoHeight:!0,minWidth:0,minHeight:0,scrolling:"no",hasError:e,content:o.coming.tpl.error}),o._afterLoad()},_loadImage:function(){var e=o.imgPreload=new Image;e.onload=function(){this.onload=this.onerror=null,o.coming.width=this.width,o.coming.height=this.height,o._afterLoad()},e.onerror=function(){this.onload=this.onerror=null,o._error("image")},e.src=o.coming.href,!0!==e.complete&&o.showLoading()},_loadAjax:function(){var e=o.coming;o.showLoading(),o.ajaxLoad=i.ajax(i.extend({},e.ajax,{url:e.href,error:function(e,t){o.coming&&"abort"!==t?o._error("ajax",e):o.hideLoading()},success:function(t,i){"success"===i&&(e.content=t,o._afterLoad())}}))},_loadIframe:function(){var e=o.coming,t=i(e.tpl.iframe.replace(/\{rnd\}/g,(new Date).getTime())).attr("scrolling",h?"auto":e.iframe.scrolling).attr("src",e.href);i(e.wrap).bind("onReset",function(){try{i(this).find("iframe").hide().attr("src","//about:blank").end().empty()}catch(e){}}),e.iframe.preload&&(o.showLoading(),t.one("load",function(){i(this).data("ready",1),h||i(this).bind("load.fb",o.update),i(this).parents(".fancybox-wrap").width("100%").removeClass("fancybox-tmp").show(),o._afterLoad()})),e.content=t.appendTo(e.inner),e.iframe.preload||o._afterLoad()},_preloadImages:function(){var e,t,i=o.group,s=o.current,n=i.length,r=s.preload?Math.min(s.preload,n-1):0;for(t=1;r>=t;t+=1)e=i[(s.index+t)%n],"image"===e.type&&e.href&&((new Image).src=e.href)},_afterLoad:function(){var e,t,s,n,r,a=o.coming,l=o.current;if(o.hideLoading(),a&&!1!==o.isActive)if(!1===o.trigger("afterLoad",a,l))a.wrap.stop(!0).trigger("onReset").remove(),o.coming=null;else{switch(l&&(o.trigger("beforeChange",l),l.wrap.stop(!0).removeClass("fancybox-opened").find(".fancybox-item, .fancybox-nav").remove()),o.unbindEvents(),e=a.content,t=a.type,s=a.scrolling,i.extend(o,{wrap:a.wrap,skin:a.skin,outer:a.outer,inner:a.inner,current:a,previous:l}),n=a.href,t){case"inline":case"ajax":case"html":a.selector?e=i("<div>").html(e).find(a.selector):c(e)&&(e.data("fancybox-placeholder")||e.data("fancybox-placeholder",i('<div class="fancybox-placeholder"></div>').insertAfter(e).hide()),e=e.show().detach(),a.wrap.bind("onReset",function(){i(this).find(e).length&&e.hide().replaceAll(e.data("fancybox-placeholder")).data("fancybox-placeholder",!1)}));break;case"image":e=a.tpl.image.replace("{href}",n);break;case"swf":e='<object id="fancybox-swf" classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%"><param name="movie" value="'+n+'"></param>',r="",i.each(a.swf,function(t,i){e+='<param name="'+t+'" value="'+i+'"></param>',r+=" "+t+'="'+i+'"'}),e+='<embed src="'+n+'" type="application/x-shockwave-flash" width="100%" height="100%"'+r+"></embed></object>"}(!c(e)||!e.parent().is(a.inner))&&a.inner.append(e),o.trigger("beforeShow"),a.inner.css("overflow","yes"===s?"scroll":"no"===s?"hidden":s),o._setDimension(),o.reposition(),o.isOpen=!1,o.coming=null,o.bindEvents(),o.isOpened?l.prevMethod&&o.transitions[l.prevMethod]():i(".fancybox-wrap").not(a.wrap).stop(!0).trigger("onReset").remove(),o.transitions[o.isOpened?a.nextMethod:a.openMethod](),o._preloadImages()}},_setDimension:function(){var e,t,s,n,r,a,l,h,c,d=o.getViewport(),_=0,g=!1,m=!1,g=o.wrap,y=o.skin,v=o.inner,b=o.current,m=b.width,x=b.height,w=b.minWidth,k=b.minHeight,C=b.maxWidth,j=b.maxHeight,z=b.scrolling,S=b.scrollOutside?b.scrollbarWidth:0,T=b.margin,P=p(T[1]+T[3]),O=p(T[0]+T[2]);if(g.add(y).add(v).width("auto").height("auto").removeClass("fancybox-tmp"),T=p(y.outerWidth(!0)-y.width()),e=p(y.outerHeight(!0)-y.height()),t=P+T,s=O+e,n=u(m)?(d.w-t)*p(m)/100:m,r=u(x)?(d.h-s)*p(x)/100:x,"iframe"===b.type){if(c=b.content,b.autoHeight&&1===c.data("ready"))try{c[0].contentWindow.document.location&&(v.width(n).height(9999),a=c.contents().find("body"),S&&a.css("overflow-x","hidden"),r=a.height())}catch(H){}}else(b.autoWidth||b.autoHeight)&&(v.addClass("fancybox-tmp"),b.autoWidth||v.width(n),b.autoHeight||v.height(r),b.autoWidth&&(n=v.width()),b.autoHeight&&(r=v.height()),v.removeClass("fancybox-tmp"));if(m=p(n),x=p(r),h=n/r,w=p(u(w)?p(w,"w")-t:w),C=p(u(C)?p(C,"w")-t:C),k=p(u(k)?p(k,"h")-s:k),j=p(u(j)?p(j,"h")-s:j),a=C,l=j,b.fitToView&&(C=Math.min(d.w-t,C),j=Math.min(d.h-s,j)),t=d.w-P,O=d.h-O,b.aspectRatio?(m>C&&(m=C,x=p(m/h)),x>j&&(x=j,m=p(x*h)),w>m&&(m=w,x=p(m/h)),k>x&&(x=k,m=p(x*h))):(m=Math.max(w,Math.min(m,C)),b.autoHeight&&"iframe"!==b.type&&(v.width(m),x=v.height()),x=Math.max(k,Math.min(x,j))),b.fitToView)if(v.width(m).height(x),g.width(m+T),d=g.width(),P=g.height(),b.aspectRatio)for(;(d>t||P>O)&&m>w&&x>k&&!(_++>19);)x=Math.max(k,Math.min(j,x-10)),m=p(x*h),w>m&&(m=w,x=p(m/h)),m>C&&(m=C,x=p(m/h)),v.width(m).height(x),g.width(m+T),d=g.width(),P=g.height();else m=Math.max(w,Math.min(m,m-(d-t))),x=Math.max(k,Math.min(x,x-(P-O)));S&&"auto"===z&&r>x&&t>m+T+S&&(m+=S),v.width(m).height(x),g.width(m+T),d=g.width(),P=g.height(),g=(d>t||P>O)&&m>w&&x>k,m=b.aspectRatio?a>m&&l>x&&n>m&&r>x:(a>m||l>x)&&(n>m||r>x),i.extend(b,{dim:{width:f(d),height:f(P)},origWidth:n,origHeight:r,canShrink:g,canExpand:m,wPadding:T,hPadding:e,wrapSpace:P-y.outerHeight(!0),skinSpace:y.height()-x}),!c&&b.autoHeight&&x>k&&j>x&&!m&&v.height("auto")},_getPosition:function(e){var t=o.current,i=o.getViewport(),s=t.margin,n=o.wrap.width()+s[1]+s[3],r=o.wrap.height()+s[0]+s[2],s={position:"absolute",top:s[0],left:s[3]};return t.autoCenter&&t.fixed&&!e&&i.h>=r&&i.w>=n?s.position="fixed":t.locked||(s.top+=i.y,s.left+=i.x),s.top=f(Math.max(s.top,s.top+(i.h-r)*t.topRatio)),s.left=f(Math.max(s.left,s.left+(i.w-n)*t.leftRatio)),s},_afterZoomIn:function(){var e=o.current;e&&(o.isOpen=o.isOpened=!0,o.wrap.css("overflow","visible").addClass("fancybox-opened"),o.update(),(e.closeClick||e.nextClick&&o.group.length>1)&&o.inner.css("cursor","pointer").bind("click.fb",function(t){!i(t.target).is("a")&&!i(t.target).parent().is("a")&&(t.preventDefault(),o[e.closeClick?"close":"next"]())}),e.closeBtn&&i(e.tpl.closeBtn).appendTo(o.skin).bind("click.fb",function(e){e.preventDefault(),o.close()}),e.arrows&&o.group.length>1&&((e.loop||e.index>0)&&i(e.tpl.prev).appendTo(o.outer).bind("click.fb",o.prev),(e.loop||e.index<o.group.length-1)&&i(e.tpl.next).appendTo(o.outer).bind("click.fb",o.next)),o.trigger("afterShow"),e.loop||e.index!==e.group.length-1?o.opts.autoPlay&&!o.player.isActive&&(o.opts.autoPlay=!1,o.play()):o.play(!1))},_afterZoomOut:function(e){e=e||o.current,i(".fancybox-wrap").trigger("onReset").remove(),i.extend(o,{group:{},opts:{},router:!1,current:null,isActive:!1,isOpened:!1,isOpen:!1,isClosing:!1,wrap:null,skin:null,outer:null,inner:null}),o.trigger("afterClose",e)}}),o.transitions={getOrigPosition:function(){var e=o.current,t=e.element,i=e.orig,s={},n=50,r=50,a=e.hPadding,l=e.wPadding,h=o.getViewport();return!i&&e.isDom&&t.is(":visible")&&(i=t.find("img:first"),i.length||(i=t)),c(i)?(s=i.offset(),i.is("img")&&(n=i.outerWidth(),r=i.outerHeight())):(s.top=h.y+(h.h-r)*e.topRatio,s.left=h.x+(h.w-n)*e.leftRatio),("fixed"===o.wrap.css("position")||e.locked)&&(s.top-=h.y,s.left-=h.x),s={top:f(s.top-a*e.topRatio),left:f(s.left-l*e.leftRatio),width:f(n+l),height:f(r+a)}},step:function(e,t){var i,s,n=t.prop;s=o.current;var r=s.wrapSpace,a=s.skinSpace;("width"===n||"height"===n)&&(i=t.end===t.start?1:(e-t.start)/(t.end-t.start),o.isClosing&&(i=1-i),s="width"===n?s.wPadding:s.hPadding,s=e-s,o.skin[n](p("width"===n?s:s-r*i)),o.inner[n](p("width"===n?s:s-r*i-a*i)))},zoomIn:function(){var e=o.current,t=e.pos,s=e.openEffect,n="elastic"===s,r=i.extend({opacity:1},t);delete r.position,n?(t=this.getOrigPosition(),e.openOpacity&&(t.opacity=.1)):"fade"===s&&(t.opacity=.1),o.wrap.css(t).animate(r,{duration:"none"===s?0:e.openSpeed,easing:e.openEasing,step:n?this.step:null,complete:o._afterZoomIn})},zoomOut:function(){var e=o.current,t=e.closeEffect,i="elastic"===t,s={opacity:.1};i&&(s=this.getOrigPosition(),e.closeOpacity&&(s.opacity=.1)),o.wrap.animate(s,{duration:"none"===t?0:e.closeSpeed,easing:e.closeEasing,step:i?this.step:null,complete:o._afterZoomOut})},changeIn:function(){var e,t=o.current,i=t.nextEffect,s=t.pos,n={opacity:1},r=o.direction;s.opacity=.1,"elastic"===i&&(e="down"===r||"up"===r?"top":"left","down"===r||"right"===r?(s[e]=f(p(s[e])-200),n[e]="+=200px"):(s[e]=f(p(s[e])+200),n[e]="-=200px")),"none"===i?o._afterZoomIn():o.wrap.css(s).animate(n,{duration:t.nextSpeed,easing:t.nextEasing,complete:o._afterZoomIn})},changeOut:function(){var e=o.previous,t=e.prevEffect,s={opacity:.1},n=o.direction;"elastic"===t&&(s["down"===n||"up"===n?"top":"left"]=("up"===n||"left"===n?"-":"+")+"=200px"),e.wrap.animate(s,{duration:"none"===t?0:e.prevSpeed,easing:e.prevEasing,complete:function(){i(this).trigger("onReset").remove()}})}},o.helpers.overlay={defaults:{closeClick:!0,speedOut:200,showEarly:!0,css:{},locked:!h,fixed:!0},overlay:null,fixed:!1,create:function(e){e=i.extend({},this.defaults,e),this.overlay&&this.close(),this.overlay=i('<div class="fancybox-overlay"></div>').appendTo("body"),this.fixed=!1,e.fixed&&o.defaults.fixed&&(this.overlay.addClass("fancybox-overlay-fixed"),this.fixed=!0)},open:function(e){var t=this;e=i.extend({},this.defaults,e),this.overlay?this.overlay.unbind(".overlay").width("auto").height("auto"):this.create(e),this.fixed||(n.bind("resize.overlay",i.proxy(this.update,this)),this.update()),e.closeClick&&this.overlay.bind("click.overlay",function(e){i(e.target).hasClass("fancybox-overlay")&&(o.isActive?o.close():t.close())}),this.overlay.css(e.css).show()},close:function(){i(".fancybox-overlay").remove(),n.unbind("resize.overlay"),this.overlay=null,!1!==this.margin&&(i("body").css("margin-right",this.margin),this.margin=!1),this.el&&this.el.removeClass("fancybox-lock")},update:function(){var e,i="100%";this.overlay.width(i).height("100%"),a?(e=Math.max(t.documentElement.offsetWidth,t.body.offsetWidth),r.width()>e&&(i=r.width())):r.width()>n.width()&&(i=r.width()),this.overlay.width(i).height(r.height())},onReady:function(e,s){i(".fancybox-overlay").stop(!0,!0),this.overlay||(this.margin=r.height()>n.height()||"scroll"===i("body").css("overflow-y")?i("body").css("margin-right"):!1,this.el=t.all&&!t.querySelector?i("html"):i("body"),this.create(e)),e.locked&&this.fixed&&(s.locked=this.overlay.append(s.wrap),s.fixed=!1),!0===e.showEarly&&this.beforeShow.apply(this,arguments)},beforeShow:function(e,t){t.locked&&(this.el.addClass("fancybox-lock"),!1!==this.margin&&i("body").css("margin-right",p(this.margin)+t.scrollbarWidth)),this.open(e)},onUpdate:function(){this.fixed||this.update()},afterClose:function(e){this.overlay&&!o.isActive&&this.overlay.fadeOut(e.speedOut,i.proxy(this.close,this))}},o.helpers.title={defaults:{type:"float",position:"bottom"},beforeShow:function(e){var t=o.current,s=t.title,n=e.type;if(i.isFunction(s)&&(s=s.call(t.element,t)),d(s)&&""!==i.trim(s)){switch(t=i('<div class="fancybox-title fancybox-title-'+n+'-wrap">'+s+"</div>"),n){case"inside":n=o.skin;break;case"outside":n=o.wrap;break;case"over":n=o.inner;break;default:n=o.skin,t.appendTo("body"),a&&t.width(t.width()),t.wrapInner('<span class="child"></span>'),o.current.margin[2]+=Math.abs(p(t.css("margin-bottom")))}t["top"===e.position?"prependTo":"appendTo"](n)}}},i.fn.fancybox=function(e){var t,s=i(this),n=this.selector||"",a=function(r){var a,l,h=i(this).blur(),c=t;!(r.ctrlKey||r.altKey||r.shiftKey||r.metaKey||h.is(".fancybox-wrap")||(a=e.groupAttr||"data-fancybox-group",l=h.attr(a),l||(a="rel",l=h.get(0)[a]),l&&""!==l&&"nofollow"!==l&&(h=n.length?i(n):s,h=h.filter("["+a+'="'+l+'"]'),c=h.index(this)),e.index=c,!1===o.open(h,e)||!r.preventDefault()))};return e=e||{},t=e.index||0,n&&!1!==e.live?r.undelegate(n,"click.fb-start").delegate(n+":not('.fancybox-item, .fancybox-nav')","click.fb-start",a):s.unbind("click.fb-start").bind("click.fb-start",a),this.filter("[data-fancybox-start=1]").trigger("click"),this},r.ready(function(){if(i.scrollbarWidth===s&&(i.scrollbarWidth=function(){var e=i('<div style="width:50px;height:50px;overflow:auto"><div/></div>').appendTo("body"),t=e.children(),t=t.innerWidth()-t.height(99).innerWidth();return e.remove(),t}),i.support.fixedPosition===s){var e=i.support,t=i('<div style="position:fixed;top:20px;"></div>').appendTo("body"),n=20===t[0].offsetTop||15===t[0].offsetTop;t.remove(),e.fixedPosition=n}i.extend(o.defaults,{scrollbarWidth:i.scrollbarWidth(),fixed:i.support.fixedPosition,parent:i("body")})})}(window,document,jQuery);